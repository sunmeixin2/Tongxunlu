<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>注册</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/signin.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
 <script  type="text/javascript" src="js/code.js"></script>
  <body  onload="createCode()">
    <div class="container" >
      <form class="form-signin" action="reg.php" method="post" enctype="multipart/form-data">
          <h2 class="form-signin-heading">注册新用户</h2>
          <input type="email" name="email" class="form-control" placeholder="用户名邮箱" required autofocus>
          <input type="password" name="pass1" class="form-control" placeholder="密码" required>
          <input type="password" name="pass2" class="form-control" placeholder="密码确认" required>
          <input type="text" name="name" class="form-control" placeholder="姓名" required>
            <div class="form-sex">选择性别：<select name="sex" id="Sex">
            <option value="男">男</option>
            <option value="女">女</option>
          </select>
          </div>
          <input type="text" name="telnumber" class="form-control" placeholder="手机号码" required>
           个人图像：<input type="file"  name="file" ><br>
          <input type="text"  class="form-control" placeholder="验证码" required id="inputCode">
          <p class="code" id="checkCode" onclick="createCode()"></p>
          <button class="btn btn-lg btn-primary btn-block" type="submit"  onclick="validateCode();">注册</button>
          <a href="login.html" class="noReg">已有账号？马上去登录-></a>
      </form>
    </div> <!-- /container -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
    <script src="./js/jquery.min.js"></script>
    <script>
      $("button[type='submit']").click(function(){
        var str =  $("input[type='email']").val();
        // alert(str);
            regPartton=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,
            reg2=/^1[34578]\d{9}$/,
         flag = false;
         if(!str || str==null){
          // emailError.innerHTML = "邮箱码不能为空！";
           alert("邮箱码不能为空!");
              $("input[type='email']").focus();
            flag = false;
        }else if(!regPartton.test(str)){
           // emailError.innerHTML = "邮箱码格式不正确！";
            $("input[type='email']").focus();
            alert("邮箱码格式不正确！");
           
            flag = false;
        }else{
          // emailError.innerHTML="";     
            flag = true;
        } 
        if($("input[name='pass1']").val() != $("input[name='pass2']").val()){
          alert("密码输入错误！");
          flag = false;
        }
        if(!reg2.test($("input[name='telnumber']").val())){
          alert("手机号码输入错误!");
        }
      })
        
    </script>
  </body>
</html>
